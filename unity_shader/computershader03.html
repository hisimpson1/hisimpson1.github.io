<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<!--computer shader particle-->
  
  <style type="text/css">table {
        line-height:160%; FONT-SIZE: 11pt; MARGIN: 0px; FONT-FAMILY: ë§‘ì€ ê³ ë”•, ë°”íƒ•, Courier New, Courier
}
  </style>
  
  <style type="text/css">div {
        line-height:130%; font-family:ë‹ì›€ì²´; font-size:10pt; color:black; background-color:white; padding:0pt; border-width:1pt; border-color:black; border-style:solid
}
  </style>
  
  <style type="text/css">
	li {
          margin: 10px 0;
        }

        li:last-child {
           margin-bottom: 0;
        }
  </style>
  
  <meta name="GENERATOR" content="Namo WebEditor v6.0">

  
  <meta charset="UTF-8">
  <title>computer shader particle</title>

  
<!-- Google tag (gtag.js) -->
  
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-Z0ZXNX5CYQ"></script>
  
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-Z0ZXNX5CYQ');
  </script>
</head><body>
<h1>computer shader particle<br>
</h1>

<table border="0" width="700">

  <tbody>
    <tr>
      <td>computer shaderë¡œ íŒŒí‹°í´ ê·¸ë¦´ë•Œ, Graphics.DrawProceduralë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë° ëŒ€ëµ ë­”ì§€ ì•Œì•„ ë³´ê² ìŠµë‹ˆë‹¤.<br>
<br>
      Graphics.DrawProceduralëŠ” Unityì—ì„œ CPUê°€ ì•„ë‹Œ GPUì—ì„œ ì§ì ‘ ë²„í…ìŠ¤ë¥¼ ìƒì„±í•´ì„œ
ê·¸ë¦¬ëŠ” ë°©ì‹ìœ¼ë¡œ, ì£¼ë¡œ ì»¤ìŠ¤í…€ ë©”ì‰¬, ì…°ì´ë” ê¸°ë°˜ íŒŒí‹°í´, GPU ì¸ìŠ¤í„´ì‹± ë“±ì— ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ëª…ë ¹ì€ ëª¨ë°”ì¼ì—ì„œ ì‚¬ìš©
ê°€ëŠ¥í•˜ì§€ë§Œ ëª‡ ê°€ì§€ ì œí•œ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤.<br>
      <br>
      Graphics.DrawProcedural ìì²´ëŠ” **ëª¨ë°”ì¼(iOS, Android)**ì—ì„œë„ í˜¸ì¶œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>
ë‹¨, GPUê°€ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ê³¼ ê·¸ë˜í”½ APIì— ì˜ì¡´í•©ë‹ˆë‹¤.<br>
      <ul>
        <li>OpenGL ES 3.0 ì´ìƒ</li>
        <li>Vulkan (Android)</li>
        <li>Metal (iOS)</li>
      </ul>
      <br>
      <h4>ì œí•œ ì‚¬í•­</h4>
1. ì…°ì´ë” ì§€ì›<br>
      <ul>
        <li>ë°˜ë“œì‹œ Compute Shader ë˜ëŠ” Vertex/Fragment Shaderì™€ ì—°ë™í•´ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</li>
        <li>OpenGL ES 3.1 ì´ìƒì´ë©´ Compute Shader ì§€ì›ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, OpenGL ES 3.0ì—ì„œëŠ” ì œí•œì ì…ë‹ˆë‹¤.</li>
      </ul>
2. Instancing<br>
      <ol>
        <li>GPU Instancingì„ ê°™ì´ ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ì´ ì¢‹ì•„ì§‘ë‹ˆë‹¤.</li>
        <li>ëª¨ë°”ì¼ì—ì„œëŠ” Instancing ì§€ì›ì´ GPU ì„±ëŠ¥ê³¼ ë“œë¼ì´ë²„ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      </ol>
      <br>
3. DrawProcedural íƒ€ì…<br>
      <ul>
        <li>MeshTopology.Triangles ë˜ëŠ” MeshTopology.Points ë“± GPUê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” topologyì—¬ì•¼ í•©ë‹ˆë‹¤.</li>
        <li>Graphics.DrawProceduralNowë¥¼ ì‚¬ìš©í•˜ë©´ ì¦‰ì‹œ ë Œë”ë§, Graphics.DrawProceduralì€ ì»¤ë§¨ë“œ ë²„í¼ì—ì„œ ë Œë”ë§ì„ ì˜ˆì•½í•©ë‹ˆë‹¤.</li>
      </ul>
      <br>
4. ì„±ëŠ¥ ê³ ë ¤<br>
      <ul>
        <li>ê³ í•´ìƒë„ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œëŠ” ì„±ëŠ¥ì´ ê´œì°®ì§€ë§Œ, ì €ì‚¬ì–‘ ê¸°ê¸°ì—ì„œëŠ” ê³¼ë„í•œ ë²„í…ìŠ¤ ì²˜ë¦¬ë¡œ í”„ë ˆì„ ë“œë ê°€ëŠ¥.</li>
        <li>ë°°ì¹˜ ìˆ˜ì™€ ë²„í…ìŠ¤ ìˆ˜ë¥¼ ì ì ˆíˆ ì¡°ì ˆí•´ì•¼ í•©ë‹ˆë‹¤.</li>
      </ul>
      <br>
5. WebGLì€ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
      <br>
      <br>
      <span style="font-weight: bold;">ì–¸ì œ Graphics.DrawProceduralì„ ì“°ë‚˜?</span><br>
      <ul>
        <li>íŒŒí‹°í´ ì‹œìŠ¤í…œ ì§ì ‘ êµ¬í˜„</li>
        <li>GPU ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜</li>
        <li>ë©”ì‰¬ ìƒì„± ë¹„ìš© ì—†ì´ ëŒ€ëŸ‰ ë Œë”ë§</li>
        <li>Compute Shader + ë Œë”ë§ ì—°ê³„</li>
      </ul>
      <br>
      <br>
í™”ë©´ ì¤‘ì•™ì— ë¹¨ê°„ í™”ë©´ì„ ê·¸ë ¤ ë³´ê² ìŠµë‹ˆë‹¤.<br>
      <br>
      <img style="width: 443px; height: 246px;" alt="" src="computershader03/run.png"><br>
      <br>
      <br>
DrawProceduralExample.cs íŒŒì¼<br>
      <div>using UnityEngine;<br>
      <br>
public class DrawProceduralExample : MonoBehaviour<br>
{<br>
&nbsp;&nbsp;&nbsp; public Material material;<br>
      <br>
&nbsp;&nbsp;&nbsp; void OnRenderObject()<br>
&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (material == null)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; material.SetPass(0);<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(0, 153, 0);">// ì‚¼ê°í˜• 1ê°œ â†’ vertex 3ê°œ</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Graphics.DrawProceduralNow( MeshTopology.Triangles, 3);<br>
&nbsp;&nbsp;&nbsp; }<br>
}<br>
      </div>
      <br>
      <span style="font-weight: bold;">í•µì‹¬</span><br>
      <ul>
        <li>Meshë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ</li>
        <li>vertexIDë¥¼ ì´ìš©í•´ ì…°ì´ë”ì—ì„œ ì •ì ì„ ê³„ì‚° (SV_VertexID)</li>
        <li>OnRenderObject()ëŠ” ê°€ì¥ ê°„ë‹¨í•˜ê²Œ í…ŒìŠ¤íŠ¸í•˜ê¸° ì¢‹ìŒ</li>
      </ul>
ì—¬ê¸°ì„œ, vertexIDëŠ” Graphics.DrawProcedural í˜¸ì¶œ ì‹œ GPUê°€ ìë™ìœ¼ë¡œ ìƒì„±í•´ì„œ vertex shaderì— ë„˜ê²¨ì£¼ëŠ” ì •ì  ì¸ë±ìŠ¤ì…ë‹ˆë‹¤.<br>
OnRenderObjectëŠ” ì¹´ë©”ë¼ê°€ ì”¬ì˜ ëª¨ë“  ì¼ë°˜ì ì¸ ì˜¤ë¸Œì íŠ¸ ë Œë”ë§ì„ ëë‚¸ ì§í›„ì— í˜¸ì¶œë©ë‹ˆë‹¤.<br>

      <br>
ì…°ì´ë” íŒŒì¼ì€ unlitìœ¼ë¡œ ìƒì„± í•©ë‹ˆë‹¤.<br>
      <br>
DrawProcedural.shader íŒŒì¼<br>
      <div>Shader "Unlit/DrawProceduralExample"<br>
{<br>
&nbsp;&nbsp;&nbsp; SubShader<br>
&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pass<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CGPROGRAM<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #pragma vertex vert<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #pragma fragment frag<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct v2f<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; float4 pos : SV_POSITION;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v2f vert(uint vertexID : SV_VertexID)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v2f o;<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; float2 positions[3];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; positions[0] = float2(0.0, 0.5);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; positions[1] = float2(-0.5, -0.5);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; positions[2] = float2(0.5, -0.5);<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
o.pos = float4(positions[vertexID], 0, 1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return o;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fixed4 frag(v2f i) : SV_Target<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return fixed4(1, 0, 0, 1); <span style="color: rgb(0, 153, 0);">// ë¹¨ê°„ìƒ‰</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ENDCG<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; }<br>
}<br>
      </div>
      <br>
      <span style="font-weight: bold;">ì‚¬ìš© ë°©ë²•</span><br>
      <ol>
        <li>ë¹ˆ GameObject ìƒì„±</li>
        <li>DrawProceduralExample ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€</li>
        <li>ìƒˆ Material ìƒì„±</li>
        <li>Shader â†’ Unlit/DrawProceduralExample</li>
        <li>Materialì„ ìŠ¤í¬ë¦½íŠ¸ì— í• ë‹¹</li>
        <li>ì‹¤í–‰ â–¶ï¸</li>
      </ol>
      <br>
      <h2 data-start="800" data-end="825">ì™œ Mesh ì—†ì´ë„ ì •ì ì´ ìƒê¸°ë‚˜?</h2>

      <p data-start="827" data-end="855"><code data-start="827" data-end="843">DrawProcedural</code>ì€ ì´ë ‡ê²Œ ë™ì‘í•©ë‹ˆë‹¤:</p>

      <ol data-start="857" data-end="971">
<li data-start="857" data-end="887">
<p data-start="860" data-end="887">CPUê°€ ë§í•¨<br data-start="867" data-end="870">
ğŸ‘‰ â€œì •ì  3ê°œ ê·¸ë ¤ë¼â€</p>
</li><li data-start="888" data-end="928">
<p data-start="891" data-end="928">GPUê°€ ìë™ìœ¼ë¡œ<br data-start="900" data-end="903">
ğŸ‘‰ vertexID = 0,1,2 ìƒì„±</p>
</li><li data-start="929" data-end="971">
<p data-start="932" data-end="971">Vertex Shaderì—ì„œ<br data-start="947" data-end="950">
ğŸ‘‰ vertexIDë¡œ ìœ„ì¹˜ ê³„ì‚°</p></li>
      </ol>
      <br>
      <br>
      <br>
<br>
      </td>
    </tr>
  </tbody>
</table>

<p>&nbsp;</p>

<p>&nbsp;</p>

<script language="JavaScript">

var images = document.getElementsByTagName('img'); 

for(var i = 0; i < images.length; i++) { 
    images[i].style.width = images[i].width/2 + 'px';
    images[i].style.height = images[i].height/2 + 'px';
    images[i].addEventListener("click", ChangeImageSize.bind(images[i]), false);
    images[i].setAttribute('data-imageSize', '0.5');
}

function ChangeImageSize(){
    imageSize = this.getAttribute('data-imageSize')

    width = this.width;
    height = this.height;

    if(imageSize == '1') 
    {
	this.setAttribute('data-imageSize', '0.5');
        width =  width/2;
        height = height/2;      
    }
    else 
    {
	this.setAttribute('data-imageSize', '1');
        width = width*2;
        height = height*2;
    }

    this.style.width = width + 'px';
    this.style.height = height + 'px';
}

</script>
</body></html>